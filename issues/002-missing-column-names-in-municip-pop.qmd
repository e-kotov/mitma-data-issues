---
title: "Missing column names in municipal population CSV"
from: markdown+emoji
code-annotations: hover
date: "2024-07-17"
date-modified: "2024-07-17"
categories:
    - tabular data
    - metadata
    - "importance: low"
issue-importance: low
status: "active"
---

---

**Status**: {{< meta status >}}

**Summary**: CSV file with municipal population data is missing column names.

**Expected Results**: The dataset should have `ID` and `population` columns.

*This repository can be opened in a web browser using Binder to explore all issues (under `issues` subfolder) interactively with `R/Rstudio`. Push the button >> [![Binder](https://mybinder.org/badge_logo.svg)](https://mybinder.org/v2/gh/e-kotov/mitma-data-issues/HEAD?urlpath=rstudio){target="_blank"}*

### Steps to Reproduce

1. **Load Data**

Load libraries and define data files.

```{r}
#| output: false

library(tidyverse)
library(here)
library(DT)

municipality_population_file <- here("data/raw_data/v2/zonificacion/zonificacion_municipios/poblacion_municipios.csv")
```

Load the data and join the municipality names to the boundaries.


```{r}
municipality_population <- read.delim(municipality_population_file, sep = "|")
```


### Results

3. **Missing column names**

```{r}
names(municipality_population)
str(municipality_population)
```

4. **Preview of the municipal population table**

```{r}
DT::datatable(municipality_population)
```



### Links to the original files

```{r}
source(here("R/901-download-helpers.R"))
files <- load_latest_v2_xml()

# Filter relevant files
relevant_files <- files |> 
  filter(basename(local_path) %in% basename(c(municipality_population_file)) )

# Create HTML links
relevant_files <- relevant_files |> 
  mutate(target_url = paste0("<a href='", target_url, "' target='_blank'>", target_url, "</a>"))

# Render the DT table with links
datatable(relevant_files, escape = FALSE, options = list(pageLength = 5))
```


